{% extends 'start.html' %}

{% block title %}{{ dataset.name }}{% endblock %}

{% block links %}
    {% load static %}
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="{% static 'scripts/char_page.js' %}" id="mainScript" class="{{ dataset.id }} " defer>
    </script>
{% endblock %}

{% block content %}
    <div class=" container d-flex flex-column gap-5">
        <div class="d-flex flex-column flex-center gap-3">
            <h4 class="pb-2 border-bottom text-primary border-primary">Chart.js</h4>
            <canvas id="chart" class=""></canvas>
        </div>

        <div class="d-flex flex-column flex-center gap-3">
            <h2 class="pb-2 border-bottom text-white">Chart</h2>

            <div class="input-group mb-3">
                <div class="input-group md-3">
                    <label for="rRange" class="form-label text-secondary">Example range</label>
                    <input type="range" class="form-range" id="rRange" min="0" max="5" step="0.001">
                </div>


                <div class="input-group mb-3">
                  <span class="input-group-text text-white bg-dark border-primary">R</span>
                  <input id="r_value" type="text" class="form-control bg-dark border-primary text-white" disabled aria-label="Amount (to the nearest dollar)">
                </div>

                <a id="mpChart" class="btn btn-primary" >Get matplotlib chart with r parameter</a>
            </div>

        </div>

        <div>
            <h2 class="pb-2 border-bottom text-white">Dataset</h2>
            <table class="table table-hover table-dark">
              <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Country</th>
                    <th scope="col">Month</th>
                    <th scope="col">Year</th>
                    <th scope="col">Value</th>
                </tr>
              </thead>
              <tbody>
                {% for value in values %}
                	<tr>
                      <th scope="row">{{ forloop.counter | add:offset }}</th>
                      <td>{{ value.country }}</td>
                      <td>{{ value.timestamp.month }}</td>
                      <td>{{ value.timestamp.year }}</td>
                      <td>{{ value.value }}</td>
                    </tr>
                {% endfor %}



              </tbody>
            </table>
            <nav aria-label="Page navigation example">
              <ul class="pagination">
                {% for page in pages %}
                	<li class="page-item"><a class="page-link bg-dark border-primary"
                     href="/dataset/{{ dataset.id }}/page/{{ page }}">{{ page }}</a></li>
                {% endfor %}

              </ul>
            </nav>
        </div>
        <div></div>
    </div>
{% endblock %}
